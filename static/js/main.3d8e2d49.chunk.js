(this.webpackJsonprps=this.webpackJsonprps||[]).push([[0],{20:function(e,n,t){},27:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(1),s=t(21),r=t.n(s),c=(t(27),t(8)),o=(t(28),t(9)),i=t(2),j=(t(29),t(0)),l=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"Game",children:Object(j.jsx)("header",{className:"Game__Header",children:Object(j.jsxs)("div",{className:"Game__Header-Container",children:[Object(j.jsx)("div",{className:"Game__Header-Container-TitleC",children:Object(j.jsxs)("p",{className:"Game__Header-Container-TitleC-Title",children:["Rock",Object(j.jsx)("br",{}),"Papper",Object(j.jsx)("br",{}),"Scissors"]})}),Object(j.jsxs)("nav",{className:"GameNav",children:[Object(j.jsx)(o.b,{activeClassName:"GameNav__Link-A",className:"GameNav__Link",to:"/game",children:"Play"}),Object(j.jsx)(o.b,{activeClassName:"GameNav__Link-A",className:"GameNav__Link",to:"/score",children:"Scoreboard"})]}),Object(j.jsx)("div",{className:"Game__Header-Container-ScoreC",children:Object(j.jsxs)("div",{className:"Game__Header-Container-ScoreCC",children:[Object(j.jsx)("span",{className:"Game__Header-Container-ScoreCC-Score",children:"SCORE"}),Object(j.jsx)("span",{className:"Game__Header-Container-ScoreCC-ScoreP",children:"0"})]})})]})})})})},u=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsx)("div",{className:"RPSContainer"})]})},d=t(12),b=t(10),m=t.n(b),O=t(3),h=t(13),p=(t(20),function(e){var n=e.history,t=Object(a.useContext)(N),s=t.UserInfo,r=t.setUserInfo,i=Object(a.useState)({}),l=Object(c.a)(i,2),u=l[0],b=l[1],p=Object(a.useState)({msg:"",hasError:!1}),x=Object(c.a)(p,2),_=x[0],f=x[1],v=function(){var e=Object(h.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u.User&&u.Password){e.next=4;break}return r(Object(O.a)(Object(O.a)({},s),{},{msg:"You cannot leave fields empty"})),e.abrupt("return");case 4:return e.next=6,fetch("https://rpsbackendjopt.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:u.User,password:u.Password})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 6:if(!(a=e.sent).msg){e.next=10;break}return f(Object(O.a)(Object(O.a)({},_),{},{msg:a.msg,hasError:!0})),e.abrupt("return");case 10:f(Object(O.a)(Object(O.a)({},_),{},{msg:"",hasError:!1})),r(Object(O.a)(Object(O.a)({},s),{},{tokenId:null===a||void 0===a?void 0:a.tokenId,user:null===a||void 0===a?void 0:a.usuario})),n.replace("/game");case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=function(e){b(Object(O.a)(Object(O.a)({},u),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){document.getElementsByName("User")[0].focus()}),[]),Object(j.jsx)("div",{className:"MainBody",children:Object(j.jsx)("div",{className:"MainBody__Container",children:Object(j.jsxs)("form",{onSubmit:v,className:"MainBody__Container-Form",children:[Object(j.jsx)("p",{className:"MainBody__Container-Form-Title",children:"Login"}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"User:"}),Object(j.jsx)("input",{name:"User",className:"MainBody__Container-Form-Input",onChange:C}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"Password:"}),Object(j.jsx)("input",{name:"Password",type:"password",className:"MainBody__Container-Form-Input",onChange:C}),Object(j.jsx)("p",{className:"MainBody__Container-Form-Message".concat(_.hasError?"-Error":""),children:null===_||void 0===_?void 0:_.msg}),Object(j.jsx)("button",{className:"MainBody__Container-Form-Button",children:"Login"}),Object(j.jsx)("nav",{className:"MainBody__LinksDiv",children:Object(j.jsx)(o.b,{exact:!0,className:"MainBody__LinksDiv-Link",to:"/register",children:"You don't have an account? Register here!"})})]})})})}),x=function(e){var n=e.history,t=Object(a.useState)({}),s=Object(c.a)(t,2),r=s[0],i=s[1],l=Object(a.useState)({msg:"",id:"",hasError:!1}),u=Object(c.a)(l,2),b=u[0],p=u[1],x=function(e){i(Object(O.a)(Object(O.a)({},r),{},Object(d.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.User&&r.Password){e.next=4;break}return p(Object(O.a)(Object(O.a)({},b),{},{msg:"You cannot leave fields empty"})),e.abrupt("return");case 4:return e.next=6,fetch("https://rpsbackendjopt.herokuapp.com/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:r.User,password:r.Password,score:0})}).then((function(e){return e.json()})).then((function(e){return p(Object(O.a)(Object(O.a)({},b),{},{msg:e.msg}))})).catch((function(e){return console.log(e)}));case 6:e.sent,setTimeout((function(){n.goBack()}),1e3);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"MainBody",children:Object(j.jsx)("div",{className:"MainBody__Container",children:Object(j.jsxs)("form",{onSubmit:_,className:"MainBody__Container-Form",children:[Object(j.jsx)("p",{className:"MainBody__Container-Form-Title",children:"Register"}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"User:"}),Object(j.jsx)("input",{name:"User",className:"MainBody__Container-Form-Input",onChange:x}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"Password:"}),Object(j.jsx)("input",{type:"password",name:"Password",className:"MainBody__Container-Form-Input",onChange:x}),Object(j.jsx)("p",{className:"MainBody__Container-Form-Message".concat(b.hasError?"-Error":""),children:b.msg}),Object(j.jsx)("button",{className:"MainBody__Container-Form-Button",children:"Register"}),Object(j.jsx)("nav",{className:"MainBody__LinksDiv",children:Object(j.jsx)(o.b,{exact:!0,className:"MainBody__LinksDiv-Link",to:"/login",children:"You have an account? Login here!"})})]})})})},_=function(){var e=Object(a.useState)(null),n=Object(c.a)(e,2),t=n[0],s=n[1];return Object(a.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rpsbackendjopt.herokuapp.com/api/usuarios",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e.usuarios}));case 2:for((n=e.sent).sort((function(e,n){return n.score-e.score}));n.length>5;)n.pop();s(Object(O.a)(Object(O.a)({},t),{},{users:n}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{className:"Container",children:Object(j.jsxs)("div",{className:"Container__Div",children:[Object(j.jsxs)("div",{className:"Container__Row",children:[Object(j.jsx)("p",{className:"Username",children:"NICKNAME"}),Object(j.jsx)("p",{className:"Score",children:"SCORE"})]}),null===t||void 0===t?void 0:t.users.map((function(e){return Object(j.jsxs)("div",{className:"Container__Row",children:[Object(j.jsx)("p",{className:"Username",children:e.user}),Object(j.jsx)("p",{className:"Score",children:e.score})]})}))]})})},f=(t(37),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsx)(_,{})]})}),v=function(){return Object(j.jsx)(o.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/login",component:p}),Object(j.jsx)(i.b,{exact:!0,path:"/register",component:x}),Object(j.jsx)(i.b,{exact:!0,path:"/game",component:u}),Object(j.jsx)(i.b,{exact:!0,path:"/score",component:f}),Object(j.jsx)(i.a,{to:"/login"})]})})})},N=Object(a.createContext)(null);var C=function(){var e=Object(a.useState)({tokenId:"",user:{}}),n=Object(c.a)(e,2),t=n[0],s=n[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(N.Provider,{value:{UserInfo:t,setUserInfo:s},children:Object(j.jsx)(v,{})})})};r.a.render(Object(j.jsx)(C,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.3d8e2d49.chunk.js.map