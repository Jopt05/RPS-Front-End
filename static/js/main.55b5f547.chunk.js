(this.webpackJsonprps=this.webpackJsonprps||[]).push([[0],{20:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},36:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t(21),c=t.n(s),r=(t(27),t(5)),i=(t(28),t(9)),o=t(2),j=(t(29),t(0)),l=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"Game",children:Object(j.jsx)("header",{className:"Game__Header",children:Object(j.jsxs)("div",{className:"Game__Header-Container",children:[Object(j.jsx)("div",{className:"Game__Header-Container-TitleC",children:Object(j.jsxs)("p",{className:"Game__Header-Container-TitleC-Title",children:["Rock",Object(j.jsx)("br",{}),"Papper",Object(j.jsx)("br",{}),"Scissors"]})}),Object(j.jsxs)("nav",{className:"GameNav",children:[Object(j.jsx)(i.b,{activeClassName:"GameNav__Link-A",className:"GameNav__Link",to:"/game",children:"Play"}),Object(j.jsx)(i.b,{activeClassName:"GameNav__Link-A",className:"GameNav__Link",to:"/score",children:"Scoreboard"})]}),Object(j.jsx)("div",{className:"Game__Header-Container-ScoreC",children:Object(j.jsxs)("div",{className:"Game__Header-Container-ScoreCC",children:[Object(j.jsx)("span",{className:"Game__Header-Container-ScoreCC-Score",children:"SCORE"}),Object(j.jsx)("span",{className:"Game__Header-Container-ScoreCC-ScoreP",children:"0"})]})})]})})})})},d=(t(36),t.p+"static/media/bg-triangle.c0c30b56.svg"),m=t.p+"static/media/icon-rock.476e90a9.svg",b=t.p+"static/media/icon-paper.8b57a6b1.svg",u=t.p+"static/media/icon-scissors.3b1a5d7e.svg",O=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=(a[0],a[1],function(e){for(var a=e.target;"IMG"!=a.tagName;)a=a.children[0];a=a.getAttribute("name")});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsxs)("div",{className:"RPSContainer",children:[Object(j.jsx)("img",{className:"RPSContainer__Bg",src:d}),Object(j.jsx)("div",{className:"ItemContainer",onClick:t,children:Object(j.jsx)("div",{className:"ItemBorder",children:Object(j.jsx)("div",{className:"ItemInnerShadow",children:Object(j.jsx)("div",{className:"ItemInnerContainer",children:Object(j.jsx)("img",{name:"rock",className:"Item-Svg",src:m})})})})}),Object(j.jsx)("div",{className:"ItemContainer",onClick:t,children:Object(j.jsx)("div",{className:"ItemBorder",children:Object(j.jsx)("div",{className:"ItemInnerShadow",children:Object(j.jsx)("div",{className:"ItemInnerContainer",children:Object(j.jsx)("img",{name:"paper",className:"Item-Svg",src:b})})})})}),Object(j.jsx)("div",{className:"ItemContainer",onClick:t,children:Object(j.jsx)("div",{className:"ItemBorder",children:Object(j.jsx)("div",{className:"ItemInnerShadow",children:Object(j.jsx)("div",{className:"ItemInnerContainer",children:Object(j.jsx)("img",{name:"scissors",className:"Item-Svg",src:u})})})})})]})]})},h=t(12),p=t(10),x=t.n(p),v=t(3),N=t(13),_=(t(20),t.p+"static/media/Loading.229fb54b.svg"),g=function(e){var a=e.history,t=Object(n.useContext)(k),s=t.UserInfo,c=t.setUserInfo,o=Object(n.useState)({}),l=Object(r.a)(o,2),d=l[0],m=l[1],b=Object(n.useState)({msg:"",hasError:!1}),u=Object(r.a)(b,2),O=u[0],p=u[1],g=Object(n.useState)(!1),f=Object(r.a)(g,2),C=f[0],y=f[1],S=function(){var e=Object(N.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!0),d.User&&d.Password){e.next=5;break}return c(Object(v.a)(Object(v.a)({},s),{},{msg:"You cannot leave fields empty"})),e.abrupt("return");case 5:return e.next=7,fetch("https://rpsbackendjopt.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:d.User,password:d.Password})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 7:if(!(n=e.sent).msg){e.next=11;break}return p(Object(v.a)(Object(v.a)({},O),{},{msg:n.msg,hasError:!0})),e.abrupt("return");case 11:p(Object(v.a)(Object(v.a)({},O),{},{msg:"",hasError:!1})),c(Object(v.a)(Object(v.a)({},s),{},{tokenId:null===n||void 0===n?void 0:n.tokenId,user:null===n||void 0===n?void 0:n.usuario})),y(!1),a.replace("/game");case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(e){m(Object(v.a)(Object(v.a)({},d),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){document.getElementsByName("User")[0].focus()}),[]),Object(j.jsx)("div",{className:"MainBody",children:Object(j.jsx)("div",{className:"MainBody__Container",children:Object(j.jsxs)("form",{onSubmit:S,className:"MainBody__Container-Form",children:[Object(j.jsx)("p",{className:"MainBody__Container-Form-Title",children:"Login"}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"User:"}),Object(j.jsx)("input",{name:"User",className:"MainBody__Container-Form-Input",onChange:I}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"Password:"}),Object(j.jsx)("input",{name:"Password",type:"password",className:"MainBody__Container-Form-Input",onChange:I}),Object(j.jsx)("p",{className:"MainBody__Container-Form-Message".concat(O.hasError?"-Error":""),children:null===O||void 0===O?void 0:O.msg}),Object(j.jsx)("button",{className:"MainBody__Container-Form-Button",children:C?Object(j.jsx)("img",{className:"LoadingSvg",src:_,alt:"Loading"}):"Login"}),Object(j.jsx)("nav",{className:"MainBody__LinksDiv",children:Object(j.jsx)(i.b,{exact:!0,className:"MainBody__LinksDiv-Link",to:"/register",children:"You don't have an account? Register here!"})})]})})})},f=function(e){var a=e.history,t=Object(n.useState)({}),s=Object(r.a)(t,2),c=s[0],o=s[1],l=Object(n.useState)({msg:"",id:"",hasError:!1}),d=Object(r.a)(l,2),m=d[0],b=d[1],u=Object(n.useState)(!1),O=Object(r.a)(u,2),p=O[0],g=O[1],f=function(e){o(Object(v.a)(Object(v.a)({},c),{},Object(h.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(N.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g(!0),c.User&&c.Password){e.next=5;break}return b(Object(v.a)(Object(v.a)({},m),{},{msg:"You cannot leave fields empty"})),e.abrupt("return");case 5:return e.next=7,fetch("https://rpsbackendjopt.herokuapp.com/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:c.User,password:c.Password,score:0})}).then((function(e){return e.json()}));case 7:if(!(n=e.sent).errors){e.next=11;break}return b(Object(v.a)(Object(v.a)({},m),{},{msg:n.errors[0].msg})),e.abrupt("return");case 11:setTimeout((function(){g(!1),a.goBack()}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"MainBody",children:Object(j.jsx)("div",{className:"MainBody__Container",children:Object(j.jsxs)("form",{onSubmit:C,className:"MainBody__Container-Form",children:[Object(j.jsx)("p",{className:"MainBody__Container-Form-Title",children:"Register"}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"User:"}),Object(j.jsx)("input",{name:"User",className:"MainBody__Container-Form-Input",onChange:f}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"Password:"}),Object(j.jsx)("input",{type:"password",name:"Password",className:"MainBody__Container-Form-Input",onChange:f}),Object(j.jsx)("p",{className:"MainBody__Container-Form-Message".concat(m.hasError?"-Error":""),children:m.msg}),Object(j.jsx)("button",{className:"MainBody__Container-Form-Button",children:p?Object(j.jsx)("img",{className:"LoadingSvg",src:_,alt:"Loading"}):"Login"}),Object(j.jsx)("nav",{className:"MainBody__LinksDiv",children:Object(j.jsx)(i.b,{exact:!0,className:"MainBody__LinksDiv-Link",to:"/login",children:"You have an account? Login here!"})})]})})})},C=function(){var e=Object(n.useState)(null),a=Object(r.a)(e,2),t=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(N.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rpsbackendjopt.herokuapp.com/api/usuarios",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e.usuarios}));case 2:for((a=e.sent).sort((function(e,a){return a.score-e.score}));a.length>5;)a.pop();s(Object(v.a)(Object(v.a)({},t),{},{users:a}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{className:"Container",children:Object(j.jsxs)("div",{className:"Container__Div",children:[Object(j.jsxs)("div",{className:"Container__Row",children:[Object(j.jsx)("p",{className:"Username",children:"NICKNAME"}),Object(j.jsx)("p",{className:"Score",children:"SCORE"})]}),null===t||void 0===t?void 0:t.users.map((function(e){return Object(j.jsxs)("div",{className:"Container__Row",children:[Object(j.jsx)("p",{className:"Username",children:e.user}),Object(j.jsx)("p",{className:"Score",children:e.score})]})}))]})})},y=(t(38),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsx)(C,{})]})}),S=function(){return Object(j.jsx)(i.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/login",component:g}),Object(j.jsx)(o.b,{exact:!0,path:"/register",component:f}),Object(j.jsx)(o.b,{exact:!0,path:"/game",component:O}),Object(j.jsx)(o.b,{exact:!0,path:"/score",component:y}),Object(j.jsx)(o.a,{to:"/login"})]})})})},k=Object(n.createContext)(null);var I=function(){var e=Object(n.useState)({tokenId:"",user:{}}),a=Object(r.a)(e,2),t=a[0],s=a[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(k.Provider,{value:{UserInfo:t,setUserInfo:s},children:Object(j.jsx)(S,{})})})};c.a.render(Object(j.jsx)(I,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.55b5f547.chunk.js.map