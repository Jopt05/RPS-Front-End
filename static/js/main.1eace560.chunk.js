(this.webpackJsonprps=this.webpackJsonprps||[]).push([[0],{20:function(e,a,n){},27:function(e,a,n){},28:function(e,a,n){},29:function(e,a,n){},36:function(e,a,n){},38:function(e,a,n){},39:function(e,a,n){"use strict";n.r(a);var t=n(1),s=n(21),r=n.n(s),c=(n(27),n(8)),i=(n(28),n(9)),o=n(2),j=(n(29),n(0)),l=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"Game",children:Object(j.jsx)("header",{className:"Game__Header",children:Object(j.jsxs)("div",{className:"Game__Header-Container",children:[Object(j.jsx)("div",{className:"Game__Header-Container-TitleC",children:Object(j.jsxs)("p",{className:"Game__Header-Container-TitleC-Title",children:["Rock",Object(j.jsx)("br",{}),"Papper",Object(j.jsx)("br",{}),"Scissors"]})}),Object(j.jsxs)("nav",{className:"GameNav",children:[Object(j.jsx)(i.b,{activeClassName:"GameNav__Link-A",className:"GameNav__Link",to:"/game",children:"Play"}),Object(j.jsx)(i.b,{activeClassName:"GameNav__Link-A",className:"GameNav__Link",to:"/score",children:"Scoreboard"})]}),Object(j.jsx)("div",{className:"Game__Header-Container-ScoreC",children:Object(j.jsxs)("div",{className:"Game__Header-Container-ScoreCC",children:[Object(j.jsx)("span",{className:"Game__Header-Container-ScoreCC-Score",children:"SCORE"}),Object(j.jsx)("span",{className:"Game__Header-Container-ScoreCC-ScoreP",children:"0"})]})})]})})})})},d=(n(36),n.p+"static/media/bg-triangle.c0c30b56.svg"),m=n.p+"static/media/icon-rock.476e90a9.svg",b=n.p+"static/media/icon-paper.8b57a6b1.svg",u=n.p+"static/media/icon-scissors.3b1a5d7e.svg",O=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsxs)("div",{className:"RPSContainer",children:[Object(j.jsx)("img",{className:"RPSContainer__Bg",src:d}),Object(j.jsx)("div",{className:"ItemContainer",children:Object(j.jsx)("div",{className:"ItemBorder",children:Object(j.jsx)("div",{className:"ItemInnerShadow",children:Object(j.jsx)("div",{className:"ItemInnerContainer",children:Object(j.jsx)("img",{className:"Item-Svg",src:m})})})})}),Object(j.jsx)("div",{className:"ItemContainer",children:Object(j.jsx)("div",{className:"ItemBorder",children:Object(j.jsx)("div",{className:"ItemInnerShadow",children:Object(j.jsx)("div",{className:"ItemInnerContainer",children:Object(j.jsx)("img",{className:"Item-Svg",src:b})})})})}),Object(j.jsx)("div",{className:"ItemContainer",children:Object(j.jsx)("div",{className:"ItemBorder",children:Object(j.jsx)("div",{className:"ItemInnerShadow",children:Object(j.jsx)("div",{className:"ItemInnerContainer",children:Object(j.jsx)("img",{className:"Item-Svg",src:u})})})})})]})]})},h=n(12),p=n(10),x=n.n(p),v=n(3),_=n(13),N=(n(20),function(e){var a=e.history,n=Object(t.useContext)(I),s=n.UserInfo,r=n.setUserInfo,o=Object(t.useState)({}),l=Object(c.a)(o,2),d=l[0],m=l[1],b=Object(t.useState)({msg:"",hasError:!1}),u=Object(c.a)(b,2),O=u[0],p=u[1],N=function(){var e=Object(_.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d.User&&d.Password){e.next=4;break}return r(Object(v.a)(Object(v.a)({},s),{},{msg:"You cannot leave fields empty"})),e.abrupt("return");case 4:return e.next=6,fetch("https://rpsbackendjopt.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:d.User,password:d.Password})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 6:if(!(t=e.sent).msg){e.next=10;break}return p(Object(v.a)(Object(v.a)({},O),{},{msg:t.msg,hasError:!0})),e.abrupt("return");case 10:p(Object(v.a)(Object(v.a)({},O),{},{msg:"",hasError:!1})),r(Object(v.a)(Object(v.a)({},s),{},{tokenId:null===t||void 0===t?void 0:t.tokenId,user:null===t||void 0===t?void 0:t.usuario})),a.replace("/game");case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),f=function(e){m(Object(v.a)(Object(v.a)({},d),{},Object(h.a)({},e.target.name,e.target.value)))};return Object(t.useEffect)((function(){document.getElementsByName("User")[0].focus()}),[]),Object(j.jsx)("div",{className:"MainBody",children:Object(j.jsx)("div",{className:"MainBody__Container",children:Object(j.jsxs)("form",{onSubmit:N,className:"MainBody__Container-Form",children:[Object(j.jsx)("p",{className:"MainBody__Container-Form-Title",children:"Login"}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"User:"}),Object(j.jsx)("input",{name:"User",className:"MainBody__Container-Form-Input",onChange:f}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"Password:"}),Object(j.jsx)("input",{name:"Password",type:"password",className:"MainBody__Container-Form-Input",onChange:f}),Object(j.jsx)("p",{className:"MainBody__Container-Form-Message".concat(O.hasError?"-Error":""),children:null===O||void 0===O?void 0:O.msg}),Object(j.jsx)("button",{className:"MainBody__Container-Form-Button",children:"Login"}),Object(j.jsx)("nav",{className:"MainBody__LinksDiv",children:Object(j.jsx)(i.b,{exact:!0,className:"MainBody__LinksDiv-Link",to:"/register",children:"You don't have an account? Register here!"})})]})})})}),f=function(e){var a=e.history,n=Object(t.useState)({}),s=Object(c.a)(n,2),r=s[0],o=s[1],l=Object(t.useState)({msg:"",id:"",hasError:!1}),d=Object(c.a)(l,2),m=d[0],b=d[1],u=function(e){o(Object(v.a)(Object(v.a)({},r),{},Object(h.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(_.a)(x.a.mark((function e(n){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r.User&&r.Password){e.next=4;break}return b(Object(v.a)(Object(v.a)({},m),{},{msg:"You cannot leave fields empty"})),e.abrupt("return");case 4:return e.next=6,fetch("https://rpsbackendjopt.herokuapp.com/api/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:r.User,password:r.Password,score:0})}).then((function(e){return e.json()}));case 6:if(!(t=e.sent).errors){e.next=10;break}return b(Object(v.a)(Object(v.a)({},m),{},{msg:t.errors[0].msg})),e.abrupt("return");case 10:setTimeout((function(){a.goBack()}),1e3);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"MainBody",children:Object(j.jsx)("div",{className:"MainBody__Container",children:Object(j.jsxs)("form",{onSubmit:O,className:"MainBody__Container-Form",children:[Object(j.jsx)("p",{className:"MainBody__Container-Form-Title",children:"Register"}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"User:"}),Object(j.jsx)("input",{name:"User",className:"MainBody__Container-Form-Input",onChange:u}),Object(j.jsx)("label",{className:"MainBody__Container-Form-Label",children:"Password:"}),Object(j.jsx)("input",{type:"password",name:"Password",className:"MainBody__Container-Form-Input",onChange:u}),Object(j.jsx)("p",{className:"MainBody__Container-Form-Message".concat(m.hasError?"-Error":""),children:m.msg}),Object(j.jsx)("button",{className:"MainBody__Container-Form-Button",children:"Register"}),Object(j.jsx)("nav",{className:"MainBody__LinksDiv",children:Object(j.jsx)(i.b,{exact:!0,className:"MainBody__LinksDiv-Link",to:"/login",children:"You have an account? Login here!"})})]})})})},g=function(){var e=Object(t.useState)(null),a=Object(c.a)(e,2),n=a[0],s=a[1];return Object(t.useEffect)((function(){(function(){var e=Object(_.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rpsbackendjopt.herokuapp.com/api/usuarios",{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e.usuarios}));case 2:for((a=e.sent).sort((function(e,a){return a.score-e.score}));a.length>5;)a.pop();s(Object(v.a)(Object(v.a)({},n),{},{users:a}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsx)("div",{className:"Container",children:Object(j.jsxs)("div",{className:"Container__Div",children:[Object(j.jsxs)("div",{className:"Container__Row",children:[Object(j.jsx)("p",{className:"Username",children:"NICKNAME"}),Object(j.jsx)("p",{className:"Score",children:"SCORE"})]}),null===n||void 0===n?void 0:n.users.map((function(e){return Object(j.jsxs)("div",{className:"Container__Row",children:[Object(j.jsx)("p",{className:"Username",children:e.user}),Object(j.jsx)("p",{className:"Score",children:e.score})]})}))]})})},C=(n(38),function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsx)(g,{})]})}),y=function(){return Object(j.jsx)(i.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/login",component:N}),Object(j.jsx)(o.b,{exact:!0,path:"/register",component:f}),Object(j.jsx)(o.b,{exact:!0,path:"/game",component:O}),Object(j.jsx)(o.b,{exact:!0,path:"/score",component:C}),Object(j.jsx)(o.a,{to:"/login"})]})})})},I=Object(t.createContext)(null);var B=function(){var e=Object(t.useState)({tokenId:"",user:{}}),a=Object(c.a)(e,2),n=a[0],s=a[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(I.Provider,{value:{UserInfo:n,setUserInfo:s},children:Object(j.jsx)(y,{})})})};r.a.render(Object(j.jsx)(B,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.1eace560.chunk.js.map